{% from "components/tile.html" import tile %}
{% from "components/form.html" import button, textarea, select, table %}
{% extends 'layout.html' %}

{% block title %} caipi.ai - Endpoint {% endblock %}

{% block main %}

<div class="flex justify-between items-center">
    <div class="p-3 pr-0 flex flex-col space-y-2">
        <h3 class="text-2xl font-bold">{{ ep.name }}</h3>
        {{ textarea('Instruction') }}
        {{ select(["GPT-3.5-0125", "GPT-4-0125"]) }}
    </div>
    <div x-data="{ modalOpen: false, slideOverOpen: false }" @keydown.escape.window="modalOpen = false"
        class="relative z-50 w-auto h-auto">
        {{ button("Create Endpoint", attr='@click=modalOpen=true') }}
        {% include 'modal.html' %}
    </div>
</div>
<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
    {{ tile("Available Characters", ep.chars, "ticket") }}
    {{ tile("Average Latency", ep.latency, "timer", "ms") }}
    {{ tile("Successful Calls", ep.success, "activity", "%") }}
    {{ tile("Invocations", ep.invocations, "hash") }}
</div>

<div class="rounded-lg border bg-white shadow-sm">
    {{ table(["Test", "Foobar"], [[1, 2], [3, 4]]) }}
</div>

{% endblock %}